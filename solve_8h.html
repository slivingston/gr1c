<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gr1c: solve.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="gr1cdoc.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">gr1c
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">solve.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Compute realizability and a strategy for a GR(1) game.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="common_8h.html">common.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="ptree_8h.html">ptree.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="automaton_8h.html">automaton.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a7d2bcafb4965cb44f048cdd610794f9d"><td class="memItemLeft" align="right" valign="top"><a id="a7d2bcafb4965cb44f048cdd610794f9d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ALL_ENV_EXIST_SYS_INIT</b>&#160;&#160;&#160;1</td></tr>
<tr class="separator:a7d2bcafb4965cb44f048cdd610794f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71cb094df2689a52e469398d644eb1b8"><td class="memItemLeft" align="right" valign="top"><a id="a71cb094df2689a52e469398d644eb1b8"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ALL_INIT</b>&#160;&#160;&#160;2</td></tr>
<tr class="separator:a71cb094df2689a52e469398d644eb1b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ee6774b15077698419c2db2289bac4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><b>LOGPRINT_INIT_FLAGS</b>(X)</td></tr>
<tr class="separator:a82ee6774b15077698419c2db2289bac4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d0d837a1d99d4edd3eea7c9e4410e0a"><td class="memItemLeft" align="right" valign="top"><a id="a2d0d837a1d99d4edd3eea7c9e4410e0a"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>ONE_SIDE_INIT</b>&#160;&#160;&#160;3</td></tr>
<tr class="separator:a2d0d837a1d99d4edd3eea7c9e4410e0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01808bd7c9b6b3cd8eb3fa28906fb7be"><td class="memItemLeft" align="right" valign="top"><a id="a01808bd7c9b6b3cd8eb3fa28906fb7be"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><b>UNDEFINED_INIT</b>&#160;&#160;&#160;0</td></tr>
<tr class="separator:a01808bd7c9b6b3cd8eb3fa28906fb7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a23b0078c4cecd73f4aeebf12c2cfcc09"><td class="memItemLeft" align="right" valign="top">DdNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="solve_8h.html#a23b0078c4cecd73f4aeebf12c2cfcc09">check_realizable</a> (DdManager *manager, unsigned char init_flags, unsigned char verbose)</td></tr>
<tr class="separator:a23b0078c4cecd73f4aeebf12c2cfcc09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5846ee4d8c84f070af03c6ff6a6370db"><td class="memItemLeft" align="right" valign="top">DdNode ***&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="solve_8h.html#a5846ee4d8c84f070af03c6ff6a6370db">compute_sublevel_sets</a> (DdManager *manager, DdNode *W, DdNode *etrans, DdNode *strans, DdNode **egoals, int num_env_goals, DdNode **sgoals, int num_sys_goals, int **num_sublevels, DdNode *****X_ijr, unsigned char verbose)</td></tr>
<tr class="separator:a5846ee4d8c84f070af03c6ff6a6370db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a207c23f97417bdc49725eae6cd864f88"><td class="memItemLeft" align="right" valign="top">DdNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="solve_8h.html#a207c23f97417bdc49725eae6cd864f88">compute_winning_set</a> (DdManager *manager, unsigned char verbose)</td></tr>
<tr class="separator:a207c23f97417bdc49725eae6cd864f88"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af03041a1b6e4bd83dc50830e17513380"><td class="memItemLeft" align="right" valign="top">DdNode *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="solve_8h.html#af03041a1b6e4bd83dc50830e17513380">compute_winning_set_BDD</a> (DdManager *manager, DdNode *etrans, DdNode *strans, DdNode **egoals, DdNode **sgoals, unsigned char verbose)</td></tr>
<tr class="separator:af03041a1b6e4bd83dc50830e17513380"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af2f03d0abdebc9bb6162d92cf2800e91"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="solve_8h.html#af2f03d0abdebc9bb6162d92cf2800e91">levelset_interactive</a> (DdManager *manager, unsigned char init_flags, FILE *infp, FILE *outfp, unsigned char verbose)</td></tr>
<tr class="separator:af2f03d0abdebc9bb6162d92cf2800e91"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a95874103a14d0ab9b3b28c23331e0521"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structanode__t.html">anode_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="solve_8h.html#a95874103a14d0ab9b3b28c23331e0521">synthesize</a> (DdManager *manager, unsigned char init_flags, unsigned char verbose)</td></tr>
<tr class="separator:a95874103a14d0ab9b3b28c23331e0521"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Compute realizability and a strategy for a GR(1) game. </p>
<p>SCL; 2012, 2014-2015 </p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a82ee6774b15077698419c2db2289bac4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82ee6774b15077698419c2db2289bac4">&#9670;&nbsp;</a></span>LOGPRINT_INIT_FLAGS</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LOGPRINT_INIT_FLAGS</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">X</td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> ((X) == ALL_ENV_EXIST_SYS_INIT) { \</div><div class="line">        logprint_raw( <span class="stringliteral">&quot;ALL_ENV_EXIST_SYS_INIT&quot;</span> ); \</div><div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((X) == ALL_INIT) { \</div><div class="line">        logprint_raw( <span class="stringliteral">&quot;ALL_INIT&quot;</span> ); \</div><div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((X) == ONE_SIDE_INIT) {    \</div><div class="line">        logprint_raw( <span class="stringliteral">&quot;ONE_SIDE_INIT&quot;</span> ); \</div><div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((X) == UNDEFINED_INIT) {    \</div><div class="line">        logprint_raw( <span class="stringliteral">&quot;UNDEFINED_INIT (not interpreted)&quot;</span> ); \</div><div class="line">    } <span class="keywordflow">else</span> { \</div><div class="line">        logprint_raw( <span class="stringliteral">&quot;(unrecognized)&quot;</span> ); \</div><div class="line">    }</div></div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a23b0078c4cecd73f4aeebf12c2cfcc09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23b0078c4cecd73f4aeebf12c2cfcc09">&#9670;&nbsp;</a></span>check_realizable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DdNode* check_realizable </td>
          <td>(</td>
          <td class="paramtype">DdManager *&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>init_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>If realizable, then returns (a pointer to) the characteristic function of the winning set. Otherwise (if problem is not realizable), returns NULL. Given manager must already be initialized. To account for all variables and their primed ("next") forms, a reasonable initialization can be achieved with </p><pre class="fragment">manager = Cudd_Init( 2*(tree_size( evar_list )+tree_size( svar_list )),
                     0, CUDD_UNIQUE_SLOTS, CUDD_CACHE_SLOTS, 0 );
</pre><p>If an error occurs, then a message is printed to stderr and NULL is returned. Depending on when and what provoked the error, there may be memory leaks.</p>
<p>init_flags can be one of</p>
<ul>
<li>ALL_ENV_EXIST_SYS_INIT : realizable if for each possible environment initialization, there exists a system initialization such that the corresponding state is in the winning set. Empty ...INIT:; clauses are equivalent to ...INIT:True;</li>
<li>ALL_INIT : realizable if every state satisfying both environment and system initial conditions is in the winning set. Empty ...INIT:; clauses are equivalent to ...INIT:True;</li>
<li>ONE_SIDE_INIT : At most one of ENVINIT or SYSINIT can be nonempty. If ENVINIT is nonempty, and let ENVINIT: f;, then f is an arbitrary state formula in terms of environment and system variables and the system strategy must allow for any initial state that satisfies f. If SYSINIT is nonempty, and let SYSINIT: f;, then f is an arbitrary state formula in terms of environment and system variables and the system strategy must find a strategy for some state that satisfies f. If both of the ...INIT:; clauses are empty, then it is equivalent to having ENVINIT:True;</li>
</ul>
<p>Let ENVINIT: f; and SYSINIT: g;, where it may be that f or g is the empty string. If init_flags is ALL_ENV_EXIST_SYS_INIT, then f must only be in terms of ENV variables, and g only in terms of SYS variables. For other init_flags settings, f and g are not over constrained variable sets. However, a common convention for init_flags of ALL_INIT is to only have ENV variables in f, etc., like for ALL_ENV_EXIST_SYS_INIT. </p>

</div>
</div>
<a id="a5846ee4d8c84f070af03c6ff6a6370db"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5846ee4d8c84f070af03c6ff6a6370db">&#9670;&nbsp;</a></span>compute_sublevel_sets()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DdNode*** compute_sublevel_sets </td>
          <td>(</td>
          <td class="paramtype">DdManager *&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DdNode *&#160;</td>
          <td class="paramname"><em>W</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DdNode *&#160;</td>
          <td class="paramname"><em>etrans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DdNode *&#160;</td>
          <td class="paramname"><em>strans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DdNode **&#160;</td>
          <td class="paramname"><em>egoals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_env_goals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DdNode **&#160;</td>
          <td class="paramname"><em>sgoals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>num_sys_goals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int **&#160;</td>
          <td class="paramname"><em>num_sublevels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DdNode *****&#160;</td>
          <td class="paramname"><em>X_ijr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>W is assumed to be (the characteristic function of) the set of winning states, e.g., as returned by <a class="el" href="solve_8h.html#a207c23f97417bdc49725eae6cd864f88">compute_winning_set()</a>. num_sublevels is an int array of length equal to the number of system goals. Space for it is allocated by <a class="el" href="solve_8h.html#a5846ee4d8c84f070af03c6ff6a6370db">compute_sublevel_sets()</a> and expected to be freed by the caller (or elsewhere).</p>
<p>The argument X_ijr should be a reference to a pointer. Upon successful termination it contains (pointers to) the X fixed point sets computed for each Y_ij sublevel set. For each Y_ij sublevel set, the number of X sets is equal to the number of environment goals. </p>

</div>
</div>
<a id="a207c23f97417bdc49725eae6cd864f88"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a207c23f97417bdc49725eae6cd864f88">&#9670;&nbsp;</a></span>compute_winning_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DdNode* compute_winning_set </td>
          <td>(</td>
          <td class="paramtype">DdManager *&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the set of states that are winning for the system, under the specification defined by the global parse trees (generated from gr1c input in main()). Basically creates BDDs from parse trees and then calls <a class="el" href="solve_8h.html#af03041a1b6e4bd83dc50830e17513380">compute_winning_set_BDD()</a>. </p>

</div>
</div>
<a id="af03041a1b6e4bd83dc50830e17513380"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af03041a1b6e4bd83dc50830e17513380">&#9670;&nbsp;</a></span>compute_winning_set_BDD()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">DdNode* compute_winning_set_BDD </td>
          <td>(</td>
          <td class="paramtype">DdManager *&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DdNode *&#160;</td>
          <td class="paramname"><em>etrans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DdNode *&#160;</td>
          <td class="paramname"><em>strans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DdNode **&#160;</td>
          <td class="paramname"><em>egoals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">DdNode **&#160;</td>
          <td class="paramname"><em>sgoals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute the set of states that are winning for the system, under the specification, while not including initial conditions. The transition (safety) formulas are defined by the given environment and system BDDs (etrans and strans, respectively), and the environment and system goal formulas are defined by egoals and sgoals, respectively. </p>

</div>
</div>
<a id="af2f03d0abdebc9bb6162d92cf2800e91"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af2f03d0abdebc9bb6162d92cf2800e91">&#9670;&nbsp;</a></span>levelset_interactive()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int levelset_interactive </td>
          <td>(</td>
          <td class="paramtype">DdManager *&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>init_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>infp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>outfp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Read commands from input stream infp and write results to outfp. Return 1 on successful completion, 0 if specification unrealizable, and -1 if error. </p>

</div>
</div>
<a id="a95874103a14d0ab9b3b28c23331e0521"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a95874103a14d0ab9b3b28c23331e0521">&#9670;&nbsp;</a></span>synthesize()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structanode__t.html">anode_t</a>* synthesize </td>
          <td>(</td>
          <td class="paramtype">DdManager *&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>init_flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned char&#160;</td>
          <td class="paramname"><em>verbose</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Synthesize a strategy. The specification is assumed to be realizable when this function is invoked. Return pointer to automaton representing the strategy, or NULL if error. Also read documentation for <a class="el" href="solve_8h.html#a23b0078c4cecd73f4aeebf12c2cfcc09">check_realizable()</a>. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
