<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>gr1c: Installation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript">
window.MathJax = {
  options: {
    ignoreHtmlClass: 'tex2jax_ignore',
    processHtmlClass: 'tex2jax_process'
  },
  loader: {
    load: ['[tex]/ams','[tex]/newcommand','[tex]/html']
  },
  tex: {
    macros: {},
    packages: ['base','configmacros','ams','newcommand','html']
  }
};
</script>
<script type="text/javascript" id="MathJax-script" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="gr1cdoc.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">gr1c<span id="projectnumber">&#160;0.13.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">Installation</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This building and installation guide should work for anything Unix-like, but in particular it has been tested on, in terms of architecture for which the executable is built,</p><ul>
<li>GNU/Linux: i386, x86_64</li>
<li>Mac OS X: x86_64, arm64</li>
</ul>
<p>Aside from standard C libraries and a basic development environment (gcc, etc.), <b>gr1c</b> depends on <a href="http://vlsi.colorado.edu/~fabio/CUDD/">CUDD</a>, the CU Decision Diagram package by Fabio Somenzi and others. Also, gr1c interactive mode optionally uses <a href="https://www.gnu.org/software/readline">GNU Readline</a> (disabled by default; selected via <code>USE_READLINE</code> definition in Makefile). The parser generator <a href="https://www.gnu.org/software/bison/">Bison</a> and the lexical analyzer <a href="https://github.com/westes/flex">flex</a> are required to build gr1c. Other Yacc and lex compatible tools may suffice, but this has not been tested.</p>
<p>If the machine on which you are building has more than one CPU, then building time may be reduced by running more than one Make job simultaneously. To do this, use the switch <code>-j N</code> in <code>make</code> commands in these instructions, where <code>N</code> is the number of jobs. E.g., if there are 8 CPUs available, <code>make -j 8</code>.</p>
<h1><a class="anchor" id="autotoc_md15"></a>
Building for GNU/Linux, Mac OS, other UNIX-like</h1>
<p>For the latest development snapshot, either <a href="https://github.com/tulip-control/gr1c">clone the repo</a> (at <a href="https://github.com/tulip-control/gr1c.git">https://github.com/tulip-control/gr1c.git</a>) or <a href="https://github.com/tulip-control/gr1c/tarball/main">download a tarball</a>. For the latter, untar the file (name may vary) and change into the source directory. </p><pre class="fragment">tar -xzf tulip-control-gr1c-658f32b.tar.gz
cd tulip-control-gr1c-658f32b
</pre><p> We will first build <a href="http://vlsi.colorado.edu/~fabio/CUDD/">CUDD</a>.</p>
<h3>Automatic</h3>
<pre class="fragment">./get-deps.sh
./build-deps.sh
</pre> <h3>Manual</h3>
<p>We mostly follow the steps as performed by the scripts listed above. To begin, make a directory called <code>extern</code>. At the time of writing, the latest version is 3.0.0. Below we use <a href="https://curl.haxx.se">cURL</a> to download it from the command-line. Alternatively, <a href="https://www.gnu.org/software/wget/">wget</a> can be used similarly. You might also try directing your Web browser at <a href="ftp://vlsi.colorado.edu/pub/">ftp://vlsi.colorado.edu/pub/</a>, or read CUDD documentation for instructions. </p><pre class="fragment">mkdir extern
cd extern
curl -O ftp://vlsi.colorado.edu/pub/cudd-3.0.0.tar.gz
tar -xzf cudd-3.0.0.tar.gz
cd cudd-3.0.0
./configure --prefix=`pwd`/..
make
make install
</pre><p> The last three commands are the usual autotools idiom; we install CUDD locally in the extern/ directory, where the gr1c Makefile expects it. Consult the README of CUDD about alternatives, e.g., building CUDD as a shared library.</p>
<p>With success building CUDD, we may now build gr1c. Change back to the gr1c root source directory and run <code>make</code>. If no errors were reported, you should be able to get the version with </p><pre class="fragment">./gr1c -V
</pre><p> Later parts of this document describe testing gr1c and additional build options.</p>
<h1><a class="anchor" id="autotoc_md16"></a>
Building for Windows</h1>
<p>These instructions are known to work when building executables for Windows on GNU/Linux hosts (i.e., cross-compiling). Furthermore, the results have been tested on Windows 10 and with <a href="https://www.winehq.org/">Wine</a>. For compiling on Windows, <a href="http://mingw-w64.org/">the mingw-w64 project</a> provides toolchains for Windows, so it should be possible to do all of this without Linux.</p>
<p>First, <a href="https://github.com/tulip-control/gr1c/archive/main.zip">download the latest development snapshot</a> or clone the repository at <a href="https://github.com/tulip-control/gr1c.git">https://github.com/tulip-control/gr1c.git</a>.</p>
<p>Install a toolchain from <a href="http://mingw-w64.org/">the mingw-w64 project</a>. Major GNU/Linux distributions have this available in respective package repositories; e.g., on Fedora or RedHat, </p><pre class="fragment">dnf install mingw64-gcc
</pre><p> and on Ubuntu, </p><pre class="fragment">apt-get install gcc-mingw-w64
</pre><p> gr1c depends on <a href="http://vlsi.colorado.edu/~fabio/CUDD/">CUDD</a>. Download it using </p><pre class="fragment">./get-deps.sh
</pre><p> and then </p><pre class="fragment">cd extern/src/cudd-3.0.0
./configure --prefix=`pwd`/../.. --host=x86_64-w64-mingw32
make
make install
</pre><p> which is nearly the same as in the script <code>build-deps.sh</code>, but with the target specified to be <code>x86_64-w64-mingw32</code>, which indicates "Windows 64-bit".</p>
<p>Now, from the root of the gr1c repository source tree, </p><pre class="fragment">export CC=x86_64-w64-mingw32-gcc
export LD="x86_64-w64-mingw32-ld -r"
make -e
</pre><p> If no errors are reported, you should be able to get the version with </p><pre class="fragment">.\gr1c.exe -V
</pre><p> on Windows. To do the same from GNU/Linux via <a href="https://www.winehq.org/">Wine</a>, </p><pre class="fragment">wine gr1c.exe -V
</pre><h2 id="testing">Testing</h2>
<p>Before deploying gr1c and especially if you are building it yourself, run the test suite from the source distribution. Testing covers optional features of gr1c, so accordingly, optional dependencies become required for the purposes of testing. If you were able to build <code>gr1c</code> as described above, then it suffices to additionally install <a href="https://www.graphviz.org/">Graphviz dot</a> and <a href="https://spinroot.com">Spin</a>. Try </p><pre class="fragment">./get-extra-deps.sh
./build-deps.sh
</pre><p> which will download source code for Spin and build it. If the building process raises an error about missing <code>yacc</code> or <code>y?tab.c</code> files, then check for <code>yacc</code> on your shell path. To do so, try </p><pre class="fragment">which yacc
</pre><p> If it is not found but <code>bison</code> is (compare with <code>which bison</code>), then create a shell script that wraps access to bison emulating yacc. This can be achieved by creating a file named <code>yacc</code>, placing the following in it </p><pre class="fragment">#!/bin/sh
bison -y $@
</pre><p> and marking it as executable (<code>chmod +x yacc</code>). Finally, place it on your system path, e.g., in /usr/bin or /usr/local/bin.</p>
<p>Tests that use Spin for model checking are configured to search in the path used by ./build-deps.sh. To run a different <code>spin</code>, modify <code>SPINEXE</code> in tests/test-verification.sh</p>
<p>After following the build steps above, do </p><pre class="fragment">make check
</pre><p> Optionally, set the shell variable <code>VERBOSE</code> to 1 to receive detailed progress notifications. E.g., try <code>VERBOSE=1 make check</code>. Most test code is placed under the <code>tests</code> directory. <b>N.B.</b>, scripted interaction will only work if you build without GNU Readline. If a test fails, despite you following the installation instructions, then please open an <a href="https://github.com/tulip-control/gr1c/issues">issue on GitHub</a> or contact Scott Livingston at <a href="#" onclick="location.href='mai'+'lto:'+'sli'+'vi'+'ngs'+'to'+'n@c'+'ds'+'.ca'+'lt'+'ech'+'.e'+'du'; return false;">slivi<span class="obfuscator">.nosp@m.</span>ngst<span class="obfuscator">.nosp@m.</span>on@cd<span class="obfuscator">.nosp@m.</span>s.ca<span class="obfuscator">.nosp@m.</span>ltech<span class="obfuscator">.nosp@m.</span>.edu</a></p>
<h1><a class="anchor" id="autotoc_md17"></a>
Placing gr1c on your shell path</h1>
<p>To be fully operational, gr1c must be on the search path of your shell. Assuming that you have administrative privileges, one solution is </p><pre class="fragment">sudo make install
</pre><p> which will copy <code>gr1c</code>, <code>gr1c-rg</code>, and other programs to <code>/usr/local/bin</code>, a commonly used location for "local" installations. This is based on a default installation prefix of <code>/usr/local</code>. Adjust it by invoking <code>make</code> with something like <code>prefix=/your/new/path</code>.</p>
<p>If you want to work with <code>gr1c</code> directly from the building directory, then from the same directory where <code>make</code> was invoked, </p><pre class="fragment">export PATH=`pwd`:$PATH
</pre><h2 id="extras">Extras</h2>
<p>The gr1c repository includes experimental programs that are only of special interest, are not (yet) reliably maintained, or otherwise are not ready for applications in production. These are found in the directories contrib/ and exp/, and some parts of the implementation are available through the gr1c API. In some cases these programs can be built by providing the executable name to <code>make</code>, e.g., <code>make grjit</code>.</p>
<p><a href="https://www.doxygen.org">Doxygen</a> must be installed to build the documentation...including the page you are now reading. Try </p><pre class="fragment">make doc
</pre><p> and the result will be under <code>doc/build</code>. Note that Doxygen version 1.8 or later is required to build documentation files formatted with <a href="https://daringfireball.net/projects/markdown">Markdown</a>, which have names ending in <code>.md</code> under <code>doc/</code>. For older versions, you can read Markdown files directly using any plain text viewer. E.g., the main page is <code>doc/api_intro.md</code>, and this page is <code>doc/installation.md</code>.</p>
<p>You can clean the sourcetree of all executables and other temporary files by running </p><pre class="fragment">make clean
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7
</small></address>
</body>
</html>
